<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>NNUE Training Dashboard ğŸ„</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
  <meta http-equiv="Pragma" content="no-cache" />
  <meta http-equiv="Expires" content="0" />
  <meta name="nnue-build" content="2026-01-10-001" />
  <meta name="nnue-backend-base" content="" />
  <meta name="nnue-allow-admin" content="0" />
  <meta name="nnue-theme" content="" />
  <script>
    (function () {
      try {
        var t = (localStorage.getItem('nnue_dashboard_theme') || '').trim().toLowerCase();
        if (t === 'winter') {
          document.documentElement.classList.add('theme-winter');
        } else if (t === 'cyber-frost' || t === 'cyber_frost' || t === 'cyber') {
          document.documentElement.classList.add('theme-winter');
          document.documentElement.classList.add('theme-cyber-frost');
        }
      } catch (e) {
      }
    })();
  </script>
  <link rel="stylesheet" href="style.css?v=2026-01-10-001" />
  <link href="https://fonts.googleapis.com/css2?family=Russo+One&family=Montserrat:wght@300;500;700&display=swap" rel="stylesheet">
</head>
<body>
  <canvas id="snow"></canvas>
  <div id="offlineBanner" class="offline-banner" style="display:none" role="status" aria-live="polite">
    <span id="offlineText" class="offline-text">Backend offline.</span>
    <button id="offlineRetry" class="offline-btn" type="button">Retry</button>
  </div>
  <header class="header subtle-snow-panel">
    <h1 class="title glow">NNUE Training Dashboard</h1>
    <p class="subtitle">Auto-League Â· SPRT Â· ELO Â· Regression Guard</p>
    <div id="healthPill" class="health-pill health-disconnected" aria-live="polite">
      <span id="healthConn" class="health-conn">disconnected Â· POLL</span>
      <span id="healthLast" class="health-last">last: â€”</span>
      <span id="healthWarn" class="health-warn" style="display:none"></span>
    </div>
    <div class="mode-row">
      <button id="adminToggle" class="admin-toggle" type="button">Enable Admin</button>
      <button id="themeToggle" class="theme-toggle" type="button" title="UI Theme: Default">UI: Default</button>
      <span id="adminBadge" class="admin-badge" style="display:none">ADMIN</span>
    </div>
  </header>
  <nav class="top-nav pro-nav">
    <button class="active nav-btn" data-tab="overview">Overview</button>
    <button class="nav-btn" data-tab="quality">Quality</button>
    <button class="nav-btn" data-tab="stability">Stability</button>
    <button class="nav-btn" data-tab="elo">ELO</button>
    <button class="nav-btn" data-tab="heatmap">Heatmap</button>
    <button class="nav-btn" data-tab="tournaments">Tournaments</button>
    <button class="nav-btn" data-tab="logs">Logs</button>
  </nav>
  <main class="container">
    <div id="meaningSurface" class="meaning-surface" hidden aria-live="polite">
      <div class="ms-item"><b>Reality</b><span id="msReality">â€”</span></div>
      <div class="ms-item"><b>Proven</b><span id="msProven">â€”</span></div>
      <div class="ms-item"><b>Pending</b><span id="msPending">â€”</span></div>
    </div>
    <section id="overview" class="tab active pro-card pro-card-garland" data-domain="training">
      <div class="card-snowcap"></div>
      <div class="garland-decoration garland-overview"></div>
      <div class="stats-row">
        <div class="stat-card pro-card pro-card-garland"><div class="card-snowcap"></div><div class="garland-decoration garland-small"></div><div class="stat-line"><span class="stat-label">Games</span><span class="stat-sep">=</span><b id="games" class="stat-value">â€”</b></div></div>
        <div class="stat-card pro-card pro-card-garland"><div class="card-snowcap"></div><div class="garland-decoration garland-small"></div><div class="stat-line"><span class="stat-label">Loss</span><span class="stat-sep">=</span><b id="loss" class="stat-value">â€”</b></div></div>
        <div class="stat-card pro-card pro-card-garland"><div class="card-snowcap"></div><div class="garland-decoration garland-small"></div><div class="stat-line"><span class="stat-label">LR</span><span class="stat-sep">=</span><b id="lr" class="stat-value">â€”</b></div></div>
        <div class="stat-card pro-card pro-card-garland"><div class="card-snowcap"></div><div class="garland-decoration garland-small"></div><div class="stat-line"><span class="stat-label">ELO</span><span class="stat-sep">=</span><b id="eloValue" class="stat-value">â€”</b></div></div>
        <div class="stat-card pro-card pro-card-garland"><div class="card-snowcap"></div><div class="garland-decoration garland-small"></div><div class="stat-line"><span class="stat-label">Time</span><span class="stat-sep">=</span><b id="time" class="stat-value">â€”</b></div></div>
      </div>
      <div class="card pro-card pro-card-garland"><div class="card-snowcap"></div><div class="garland-decoration"></div>
        <h2>â³ Training Progress</h2>
        <div class="progress-header"><span id="progressText">â€”</span><b id="progressValue">â€”</b></div>
        <div class="progress-bar" role="progressbar" aria-valuemin="0" aria-valuemax="100"><div id="progressFill" class="progress-fill"></div></div>
      </div>
      <div class="card pro-card pro-card-garland"><div class="card-snowcap"></div><div class="garland-decoration"></div>
        <h2>ğŸ“Š Training Status</h2>
        <div class="status-panel">
          <span id="statusText">loadingâ€¦</span>
        </div>
      </div>
      <div class="card pro-card pro-card-garland"><div class="card-snowcap"></div><div class="garland-decoration"></div>
        <h2>âš ï¸ Regression Watch</h2>
        <div id="regressions" class="regression-list"></div>
      </div>

      <div class="card pro-card pro-card-garland"><div class="card-snowcap"></div><div class="garland-decoration"></div>
        <h2>ğŸ§­ Signals</h2>
        <div class="kv-grid">
          <div class="kv-item"><b>SPRT gate</b><span id="sigSprtGate" class="pill">â€”</span></div>
          <div class="kv-item"><b>Regression</b><span id="sigRegression" class="pill">â€”</span></div>
          <div class="kv-item"><b>Data drift</b><span id="sigDrift" class="pill">â€”</span></div>
          <div class="kv-item"><b>Curriculum</b><span id="sigCurriculum" class="pill">â€”</span></div>
          <div class="kv-item"><b>LR reason</b><span id="sigLrReason" class="pill">â€”</span></div>
        </div>
        <div id="sigNote" class="panel-note">â€”</div>
      </div>
      <div id="adminPanel" class="card pro-card pro-card-garland admin-panel" style="display:none">
        <h2>ğŸ›‘ Admin Control</h2>
        <div class="admin-actions">
          <button id="shutdownBtn" class="admin-btn admin-danger" type="button">Request Safe Shutdown</button>
          <button id="exportBtn" class="admin-btn" type="button">Export Snapshot</button>
        </div>
        <div id="adminStatus" class="admin-status" aria-live="polite"></div>
      </div>
    </section>

    <section id="quality" class="tab pro-card pro-card-garland" data-domain="quality">
      <div class="card-snowcap"></div>
      <div class="garland-decoration garland-overview"></div>
      <div class="card pro-card pro-card-garland"><div class="card-snowcap"></div><div class="garland-decoration"></div>
        <h2>ğŸ§ª Data Quality</h2>
        <div class="panel-note">Dedup Â· terminal filter Â· phase balance Â· distribution drift</div>
        <div id="qualitySummary" class="kv-grid"></div>
      </div>
      <div class="card pro-card pro-card-garland"><div class="card-snowcap"></div><div class="garland-decoration"></div>
        <h2>ğŸ“¦ Distribution</h2>
        <div class="scroll-panel" id="qualityDist"></div>
      </div>
    </section>

    <section id="stability" class="tab pro-card pro-card-garland" data-domain="stability">
      <div class="card-snowcap"></div>
      <div class="garland-decoration garland-elo"></div>
      <div class="card pro-card pro-card-garland"><div class="card-snowcap"></div><div class="garland-decoration"></div>
        <h2>ğŸ§  Training Stability</h2>
        <div id="stabilitySummary" class="kv-grid"></div>
      </div>
      <div class="card pro-card pro-card-garland"><div class="card-snowcap"></div><div class="garland-decoration"></div>
        <h2>ğŸ›¡ Evaluation Signals</h2>
        <div class="scroll-panel" id="evalSignals"></div>
      </div>
    </section>
    <section id="elo" class="tab pro-card pro-card-garland" data-domain="elo">
      <div class="card-snowcap"></div>
      <div class="garland-decoration garland-elo"></div>
      <div class="card pro-card pro-card-garland"><div class="card-snowcap"></div><div class="garland-decoration"></div>
        <h2>ğŸ“ˆ ELO Progress (95% CI)</h2>
        <canvas id="eloChart" width="900" height="360"></canvas>
      </div>
      <div class="card pro-card pro-card-garland"><div class="card-snowcap"></div><div class="garland-decoration"></div>
        <h2>ğŸ† Top-5 NNUE</h2>
        <div id="top5" class="top5-grid"></div>
      </div>
    </section>
    <section id="heatmap" class="tab pro-card pro-heatmap pro-card-garland" data-domain="heatmap">
      <div class="card-snowcap"></div>
      <div class="garland-decoration garland-heatmap"></div>
      <div id="heatmapMount" class="embed-heatmap" aria-label="NNUE Activity Heatmap"></div>
    </section>
    <section id="tournaments" class="tab pro-card pro-card-garland" data-domain="tournaments">
      <div class="card-snowcap"></div>
      <div class="garland-decoration garland-tournaments"></div>
      <div class="card pro-card pro-card-garland"><div class="card-snowcap"></div><div class="garland-decoration"></div>
        <h2>â™Ÿ Auto Tournaments</h2>
        <div id="tournamentList" class="tournament-list">Loadingâ€¦</div>
      </div>
    </section>
    <section id="logs" class="tab pro-card pro-card-garland" data-domain="logs">
      <div class="card-snowcap"></div>
      <div class="garland-decoration garland-logs"></div>
      <div class="card pro-card pro-card-garland"><div class="card-snowcap"></div><div class="garland-decoration"></div>
        <div class="log-toolbar">
          <div class="log-controls">
            <label class="log-control">
              <span>Level</span>
              <select id="logLevel" class="log-select">
                <option value="all" selected>All</option>
                <option value="info">INFO</option>
                <option value="warn">WARN</option>
                <option value="error">ERROR</option>
              </select>
            </label>
            <label class="log-control">
              <span>Subsystem</span>
              <select id="logSubsystem" class="log-select">
                <option value="all" selected>All</option>
                <option value="train">TRAIN</option>
                <option value="eval">EVAL</option>
                <option value="io">IO</option>
                <option value="tournament">TOURNAMENT</option>
              </select>
            </label>
            <label class="log-control">
              <span>Window</span>
              <select id="logWindow" class="log-select">
                <option value="latest" selected>Latest</option>
                <option value="lastN">Last N</option>
                <option value="all">All</option>
              </select>
            </label>
            <label class="log-control" id="logNWrap">
              <span>N</span>
              <select id="logN" class="log-select">
                <option value="200" selected>200</option>
                <option value="500">500</option>
                <option value="1000">1000</option>
                <option value="2000">2000</option>
              </select>
            </label>
          </div>
          <button id="logPause" class="log-pause" type="button">Pause</button>
        </div>
        <div id="logOutput" class="log-output" role="log" aria-live="polite">Logs will appear here</div>
      </div>
    </section>
  </main>
  <footer class="footer pro-footer">
    <span>â„ï¸ Autonomous NNUE system Â· Live updates Â· New Year 2026</span>
  </footer>
  <div id="explainOverlay" class="explain-overlay">
    <div class="explain-card pro-card-garland">
      <div class="card-snowcap"></div>
      <div class="garland-decoration garland-modal"></div>
      <button class="explain-close" onclick="closeExplain()">âœ–</button>
      <h2 id="explainTitle">NNUE Version</h2>
      <div class="explain-grid">
        <div><b>ELO</b><span id="explainElo"></span></div>
        <div><b>Games</b><span id="explainGames"></span></div>
        <div><b>Wins</b><span id="explainWins"></span></div>
        <div><b>Loss</b><span id="explainLoss"></span></div>
        <div><b>Status</b><span id="explainStatus"></span></div>
        <div><b>SPRT</b><span id="explainSprt"></span></div>
        <div><b>Confidence</b><span id="explainConf"></span></div>
      </div>
      <div class="explain-note" id="explainNote"></div>
    </div>
  </div>
  <script src="experience.js"></script>
  <script src="js/theme.js?v=2026-01-10-001"></script>
  <script src="app.js?v=2026-01-10-001"></script>
  <script src="js/main.js?v=2026-01-10-001"></script>
</body>
</html>